diff --git a/configuration/etl/etl_action_defs.d/cloud_common/cloud_metrics_aggregation.json b/configuration/etl/etl_action_defs.d/cloud_common/cloud_metrics_aggregation.json
index f2fc4bd5..de5b4f7f 100644
--- a/configuration/etl/etl_action_defs.d/cloud_common/cloud_metrics_aggregation.json
+++ b/configuration/etl/etl_action_defs.d/cloud_common/cloud_metrics_aggregation.json
@@ -27,7 +27,8 @@
                 "year": "${:YEAR_VALUE}",
                 "${AGGREGATION_UNIT}": "${:PERIOD_VALUE}",
                 "host_resource_id": "sr.resource_id",
-                "account_id": "instance.account_id",
+                "#": "THE FOLLOWING HAS BEEN CHANGED BY THE FEDERATION MODULE",
+                "account_id": "ca.primaryid",
                 "person_id": "sr.person_id",
                 "systemaccount_id": "sr.systemaccount_id",
                 "processorbucket_id": "(SELECT id FROM ${SOURCE_SCHEMA}.processor_buckets pb WHERE sr.num_cores BETWEEN pb.min_processors AND pb.max_processors)",
@@ -71,6 +72,13 @@
                   "schema": "${UTILITY_SCHEMA}",
                   "alias": "task_resource",
                   "on": "task_resource.id = sr.resource_id"
+              },
+              {
+                  "#": "THE FOLLOWING IS ADDED BY THE FEDERATION MODULE",
+                  "name":"account",
+                  "alias":"ca",
+                  "schema": "${SOURCE_SCHEMA}",
+                  "on": "ca.resource_id = instance.resource_id AND ca.account_id = instance.account_id"
               }
             ],
             "where": [
diff --git a/configuration/etl/etl_action_defs.d/cloud_common/session_records.json b/configuration/etl/etl_action_defs.d/cloud_common/session_records.json
index 1ce31ca7..63f12522 100644
--- a/configuration/etl/etl_action_defs.d/cloud_common/session_records.json
+++ b/configuration/etl/etl_action_defs.d/cloud_common/session_records.json
@@ -11,7 +11,8 @@
             "end_event_type_id": "e.end_event_id",
             "resource_id": "it.resource_id",
             "instance_type": "itt.instance_type",
-            "instance_type_id": "itt.instance_type_id",
+            "#": "THE FOLLOWING WAS MODIFIFED BY THE FEDERATION MODULE",
+            "instance_type_id": "itt.primaryid",
             "num_cores": "itt.num_cores",
             "memory_mb": "itt.memory_mb",
             "disk_gb": "itt.disk_gb",
diff --git a/configuration/etl/etl_tables.d/cloud_common/account.json b/configuration/etl/etl_tables.d/cloud_common/account.json
index b89f3f44..0d18fe83 100644
--- a/configuration/etl/etl_tables.d/cloud_common/account.json
+++ b/configuration/etl/etl_tables.d/cloud_common/account.json
@@ -14,7 +14,7 @@
                 "name": "account_id",
                 "type": "int(11)",
                 "nullable": false,
-                "extra": "auto_increment",
+                "#": "Auto-increment REMOVED FROM THIS COLUMN BY THE FEDERATION",
                 "comment": "Unknown = 1"
             },
             {
@@ -29,9 +29,17 @@
                 "nullable": true,
                 "default": null,
                 "comment": "What to show the user"
+            },
+            {
+                "#": "THIS HAS BEEN ADDED BY THE FEDERATION",
+                "name": "primaryid",
+                "type": "bigint(20) unsigned",
+                "nullable": false,
+                "extra": "auto_increment",
+                "comment": "Added by federation"
             }
         ],
-
+        "#": "THE FOLLOWING IS NOT VALID ON A FEDERATION HUB",
         "#": "Note that the primary key is (resource, account) rather than account_id so we can",
         "#": "take advantage of ON DUPLICATE KEY UPDATE to update existing entries and still use",
         "#": "auto_increment for new entries.",
@@ -45,15 +53,16 @@
 
         "indexes": [
             {
+                "#": "THE FOLLOWING HAS BEEN CHANGED BY THE FEDERATION MODULE",
                 "name": "PRIMARY",
                 "columns": [
-                    "resource_id",
-                    "provider_account"
+                    "primaryid"
                 ],
                 "is_unique": true
             },
             {
-                "name": "autoincrement_key",
+                "#": "THE FOLLOWING HAS BEEN CHANGED BY THE FEDERATION MODULE",
+                "name": "uniq",
                 "columns": [
                     "resource_id",
                     "account_id"
diff --git a/configuration/etl/etl_tables.d/cloud_common/instance_type.json b/configuration/etl/etl_tables.d/cloud_common/instance_type.json
index f7d4e39e..0f769bbf 100644
--- a/configuration/etl/etl_tables.d/cloud_common/instance_type.json
+++ b/configuration/etl/etl_tables.d/cloud_common/instance_type.json
@@ -16,7 +16,7 @@
                 "name": "instance_type_id",
                 "type": "int(11)",
                 "nullable": false,
-                "extra": "auto_increment",
+                "#": "Auto-increment REMOVED FROM THIS COLUMN BY THE FEDERATION",
                 "comment": "Auto-increment relative to resource_id. Unknown = 1"
             },
             {
@@ -69,7 +69,15 @@
                 "nullable": true,
                 "default": null,
                 "comment": "End time for this configuration as a unix timestamp to the microsecond., NULL if it is still in effect."
-            }
+            },
+            {
+                "#": "THIS HAS BEEN ADDED BY THE FEDERATION",
+                "name": "primaryid",
+                "type": "bigint(20) unsigned",
+                "nullable": false,
+                "extra": "auto_increment",
+                "comment": "Added by federation"
+             }
         ],
 
         "#": "Note that the primary key is (resource, instance_type, num_cores, memory_mb, disk_gb)",
@@ -78,7 +86,14 @@
 
         "indexes": [
             {
-                "name": "PRIMARY",
+                "#": "THE FOLLOWING HAS BEEN ADDED BY THE FEDERATION MODULE",
+                "name": "PRIMARY",
+                "columns": [
+                    "primaryid"
+                ]
+            },{
+                "#": "THE FOLLOWING HAS BEEN CHANGED BY THE FEDERATION MODULE",
+                "name": "uniq",
                 "columns": [
                     "resource_id",
                     "instance_type",
@@ -89,6 +104,7 @@
                 "is_unique": true
             },
             {
+                "#": "THE FOLLOWING IS NOT VALID ON A FEDERATION HUB",
                 "#": "For MyISAM tables, you can specify AUTO_INCREMENT on a secondary column in a",
                 "#": "multiple-column index. In this case, the generated value for the AUTO_INCREMENT column",
                 "#": "is calculated as MAX(auto_increment_column) + 1 WHERE prefix=given-prefix. This is",
